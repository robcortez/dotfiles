{% extends "base.html" %}
{% block content %}
<script type="text/javascript">
    $(document).ready(function(){
        $('#groups').multiselect({
            buttonClass:'btn btn-default',
            maxHeight:215,
        });
    })
</script>
<style>
    .icon-minus-sign {
       color:red; 
    }
    .icon-pencil {
        color: green;
    }
    #tableBtns i {
        padding: 0px 3px;
    }
    .table-btn {
        width: 45px;
        padding-left: 5px;
        padding-right: 5px;
    }
    #ico, #text {
        line-height: 16px;
        float: left;
    }
</style>

<div class="container" style="padding: 20px 0px;">
    <div class="well">
        <form class="form form-horizontal" action="/customers" method="POST" role="form">
            {{form.hidden_tag()}}
            <div class="form-group">
                <label class="control-label col-md-1 col-md-offset-2" for="firstName">First</label>
                <div class="col-md-3">
                    {{form.first_name(class_="form-control", id="firstName")}} 
                </div>
                <label class="control-label col-md-1" for="lastName">Last</label>
                <div class="col-md-3">
                    {{form.last_name(class_="form-control", id="lastName")}} 
                </div>
            </div>
             <div class="form-group">
                <label class="control-label col-md-1 col-md-offset-2" for="phoneNum">Phone</label>
                <div class="col-md-3">
                    {{form.phone(class_="form-control", id="phoneNum")}} 
                </div>
                <label class="control-label col-md-1" for="email">Email</label>
                <div class="col-md-3">
                    {{form.email(class_="form-control", id="email")}} 
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-1 col-md-offset-2" for="groups">Group(s)</label>
                <div class="col-md-3">
                    {{form.groups(class_="form-control", id="groups")}}
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-md-offset-4" style="text-align:center;">
                    <button type="submit" class="btn btn-primary">Add Customer</button>
                </div>
            </div>
        </form>
    </div>
                
    <table class="table table-condensed table-hover">
        <thead>
            <tr>
                <td>#</td>
                <td>First</td>
                <td>Last</td>
                <td>Phone</td>
                <td>Email</td>
                <td>Group(s)</td>
                <td style="text-align:center;">Opt-Out</td>
                <td>Actions</td>
            </tr>
        </thead>
        <tbody>
            {% if customers %}
            {% for c in customers %}
            <tr>
                <td>{{c.id}}</td>
                <td>{{c.first_name}}</td>
                <td>{{c.last_name}}</td>
                <td>{{c.phone_number}}</td>
                <td>{{c.email}}</td>
                <td>{% for g in c.groups %}{{g.name}}, {% endfor %}</td>
                <td style="text-align:center;">{% if c.opt_out == 1 %}&#10003;{% endif %}</td>
                <td>
                    <div id="tableBtns">
                        <a href="#"><i class="icon-pencil"></i></a>
                        <a href="#"><i class="icon-minus-sign"></i></a>
                    </div>
                </td>
            </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>

{% endblock %}
